<template>
	<lightning-record-view-form record-id={recordId} object-api-name={object}>
		<li>
			<div class={className}>
				<span class="slds-assistive-text">task</span>
				<div class="slds-media">

					<!-- ICON & CHEVRON -->
					<div class="slds-media__figure">
						<button class="slds-button slds-button_icon" title="Toggle details"
							aria-controls="task-item-base">
							<lightning-icon if:false={expanded} size="xx-small" icon-name="utility:chevronright"
								alternative-text="Toggle details" onclick={toggleDetailSection}>
							</lightning-icon>
							<lightning-icon if:true={expanded} size="xx-small" icon-name="utility:switch"
								alternative-text="Toggle details" onclick={toggleDetailSection}>
							</lightning-icon>
							<span class="slds-assistive-text">Toggle details</span>
						</button>
						<div class="slds-icon_container slds-timeline__icon">
							<lightning-icon size="small" icon-name={themeInfo.icon}></lightning-icon>
						</div>
					</div>


					<div class="slds-media__body">
						<div class="slds-grid slds-grid_align-spread slds-timeline__trigger">
							<div
								class="slds-grid slds-grid_vertical-align-center slds-truncate_container_75 slds-no-space">

								<!-- TITLE -->
								<h3 class="slds-truncate" title={title}>
									<a onclick={openRecord}>
										<strong>{title}</strong>
									</a>
								</h3>
								<!-- RECORRUING TASK -->
								<div if:true={isTask} class="slds-no-flex">
									<span class="slds-icon_container slds-icon-utility-rotate" title="Recurring Task">
										<div class="slds-icon slds-icon_xx-small slds-icon-text-default slds-m-left_x-small"
											aria-hidden="true">
											<lightning-icon size="xx-small" icon-name="utility:rotate"></lightning-icon>
										</div>
										<span class="slds-assistive-text">Recurring Task</span>
									</span>
								</div>
								<!-- CHECKBOX -->
								<div if:true={isTask} class="slds-checkbox slds-m-left_x-small">
									<input type="checkbox" name="options" id="checkbox-unique-id-18"
										value="checkbox-unique-id-18" />
									<label class="slds-checkbox__label" for="checkbox-unique-id-18">
										<span class="slds-checkbox_faux"></span>
										<span class="slds-form-element__label slds-assistive-text">Mark as
											completed</span>
									</label>
								</div>

							</div>


							<!-- DATE -->
							<div class="slds-timeline__actions slds-timeline__actions_inline">
								<p class="slds-timeline__date">{dateValue}</p>
								<!-- <button
									class="slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small"
									aria-haspopup="true" title="More Options for this item">
									<svg class="slds-button__icon" aria-hidden="true">
										<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"></use>
									</svg>
									<span class="slds-assistive-text">More Options for this item</span>
								</button> -->


							</div>
						</div>

						<!-- SUBTITLE -->
						<p class="slds-m-horizontal_xx-small">
							{subtitle}
						</p>



						<div if:true={expanded}
							class="slds-box slds-theme_shade slds-m-top_x-small slds-m-horizontal_xx-small slds-p-around_medium">
							<!-- <template for:each={expandedFieldsToDisplay} for:item="fieldToDisplay">
								<lightning-output-field key={fieldToDisplay.id} field-name={fieldToDisplay.apiName}>
								</lightning-output-field>
							</template> -->
							<p> test </p>
						</div>


					</div>
				</div>
			</div>
		</li>
	</lightning-record-view-form>

</template>