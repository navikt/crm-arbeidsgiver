@IsTest
public class ArbeidsplassenModel_Test {

	public static String json = '{' +
	                            '  \"content\": [' +
	                            '    {' +
	                            '      \"applicationDue\": \"2020-04-17T00:00\",' +
	                            '      \"description\": \"<p>Org. nr: - Stillingsident: 4220579729 Presentasjon av stillingen:</p>\\n<p>Grunnet pandemien søker intensivavdelingen i Stavanger leger i midlertidige stillinger som skal fungere som en del av et tverrfaglig team og\\nha medansvar for intensivpasienter. Avdelingen er opptatt av å bygge gode team\\npreget av tillit og en arbeidsfordeling som gir sikkerhet for medarbeider og\\npasient. Dette er særlig rettet mot ferdig utdannede leger som ikke har fått\\nLIS1 stilling eller som søker dette fra høsten 2020.</p>\\n<ul><li>Etter et målrettet kompetanseprogram i intensivovervåking av intensiv/koronapasienter vil du inngå som en del av et tverrfaglig team rundt pasienten</li><li>Det kan være aktuelt å arbeide som lege ved andre avdelinger og/eller inngå i team i akuttmottak og andre deler av virksomheten</li></ul>\\n<p>Intensivavdelingen består av enhetene: Intensiv 2M, postoperativ 1G og postoperativ 2øst.\\nIntensivavdelingen overvåker og gir respiratorbehandling til kritisk syke\\npasienter i alle aldersgrupper. Medarbeideres HMS er førsteprioritet. Vi har\\nbehov for DEG som trives i et aktivt arbeidsmiljø og som ønsker å bidra i en\\nutfordrende og uforutsigbar tid. Ansettelse skjer fortløpende.</p>\\n<p><strong>Attester, vitnemål og eventuell annen relevant dokumentasjon må vedlegges søknaden.</strong></p>\\n<h3>Arbeidsoppgaver</h3>\\n<ul><li>Som ansatt skal du inngå i et tverrfaglig team på avdelingene</li><li>Ivareta en assistent-/støttefunksjon i teamet rundt intensivpasienten</li><li>Intensivovervåking til akutt og kritisk syke pasienter</li><li>Ivaretagelse av pårørende</li><li>Delta i veiledning av annet helsepersonell</li></ul>\\n<h3>Kvalifikasjoner</h3>\\n<ul><li>Autorisasjon som lege</li><li>Gode norskkunnskaper er helt avgjørende for forsvarlig pasientbehandling. Søkere som har annet morsmål enn norsk, svensk eller dansk, og som ikke har fullført norskspråklig videregående skole, må minimum ha bestått Bergenstesten, eller annen norsktest på B2 nivå. Dokumentasjon må vedlegges søknaden. Ved ansettelse av allerede fast ansatt i foretaket kan en unntaksvis, i særlige tilfeller, fravike kravet om bestått norsktest på B2-nivå.</li><li>Som deltager i team må du være fleksibel, teamorientert, ta del i det arbeidet du er kvalifisert til og bidra til en god oppgavefordeling mellom yrkesgruppene i teamet</li><li>Du må være bevisst grenser for egen kompetanse</li></ul>\\n<h3>Personlige egenskaper</h3>\\n<ul><li>Du må trives i et aktivt arbeidsmiljø, like varierte utfordringer og være en bidragsyter til å jobbe både tverrfaglig og selvstendig</li><li>Personlig egnethet vektlegges ved ansettelse</li></ul>\\n<h3>Vi tilbyr</h3>\\n<ul><li>Nettbasert opplæring i intensivovervåkning</li><li>Hands-on opplæring på lokal avdeling</li><li>En mulighet til å gjøre en forskjell</li><li>Lønn etter gjeldende overenskomst</li><li>Intensivenhet lokalisert i nye, innbydende lokaler</li><li>Stor bredde i faglige utfordringer</li><li>Gode pensjons og forsikringsordninger</li><li>Gode velferdsordninger</li></ul>\\n<h3>Kontaktinformasjon</h3>\\n<p>Kari Nordmann, Avdelingssjef, 900 80 900<br />\\nOla Nordmann, Seniorrådgiver / Overlege FFU Avdelingen, 4234234 / 23234234<br />\\nOla Nordmann, Spesialist i Anestesiologi, 242324234</p>\\n<h3>Arbeidssted</h3>\\n<p>Gerd-Ragna Bloch Thorsens gate 8<br />\\n4019 Stavanger</p>\\n<p>Søk på stillingen:<a href=\\\"https://candidate.webcruiter.com/cv?advertid&#61;4220579729&amp;language&#61;nb&amp;link_source_id&#61;17\\\" rel=\\\"nofollow\\\">Klikk her</a></p>\\n<h3>Nøkkelinformasjon:</h3>\\n<p>Arbeidsgiver:Helse Stavanger HF</p>\\n<p>Referansenr.:4220579729<br />\\nStillingsprosent: 100%<br />\\nEngasjement<br />\\nSøknadsfrist: 17.04.2020</p>\\n\",' +
	                            '      \"employer\": {' +
	                            '        \"description\": \"<p><em>Helse Stavanger HF, Stavanger universitetssjukehus, har ansvar for spesialisthelsetjenesten i Sør-Rogaland. Med over 7800 ansatte er vi en av regionens største arbeidsgivere. Pasientbehandling, utdanning av helsepersonell, pasientopplæring og forskning er våre hovedoppgaver. Les mer på <a href=\\\"http://www.helse-stavanger.no/\\\" rel=\\\"nofollow\\\">www.helse-stavanger.no.</a></em></p>\\n\",' +
	                            '        \"homepage\": null,' +
	                            '        \"name\": \"Helse Stavanger HF\",' +
	                            '        \"orgnr\": \"924469889\"' +
	                            '      },' +
	                            '      \"engagementtype\": \"Annet\",' +
	                            '      \"expires\": \"2020-04-16T22:00:00Z\",' +
	                            '      \"extent\": \"Heltid\",' +
	                            '      \"jobtitle\": null,' +
	                            '      \"link\": \"https://arbeidsplassen.nav.no/stillinger/stilling/3465c1e2-706a-445c-bda9-a4e6c0912dfa\",' +
	                            '      \"occupationCategories\": [' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Lege\"' +
	                            '        }' +
	                            '      ],' +
	                            '      \"positioncount\": \"1\",' +
	                            '      \"published\": \"2020-04-07T13:17:17.152025Z\",' +
	                            '      \"sector\": \"Ikke oppgitt\",' +
	                            '      \"source\": \"XML_STILLING\",' +
	                            '      \"sourceurl\": null,' +
	                            '      \"starttime\": null,' +
	                            '      \"title\": \"Er du utdannet lege uten at du er ansatt i spesialisthelsetjenesten? Intensivavdelingen trenger deg!\",' +
	                            '      \"updated\": \"2020-04-07T13:17:17.592052Z\",' +
	                            '      \"uuid\": \"3465c1e2-706a-445c-bda9-a4e6c0912dfa\",' +
	                            '      \"workLocations\": [' +
	                            '        {' +
	                            '          \"address\": \"Gerd-Ragna Bloch Thorsens gate 8\",' +
	                            '          \"city\": \"STAVANGER\",' +
	                            '          \"country\": \"NORGE\",' +
	                            '          \"county\": \"ROGALAND\",' +
	                            '          \"municipal\": \"STAVANGER\",' +
	                            '          \"postalCode\": \"4019\"' +
	                            '        }' +
	                            '      ]' +
	                            '    },' +
	                            '    {' +
	                            '      \"applicationDue\": \"2020-04-30T00:00\",' +
	                            '      \"description\": \"<p>Org. nr: - Stillingsident: 4220835017 Presentasjon av stillingen:</p>\\n<p>Har du interesse for eller erfaring fra ledelse av poliklinikk innen Tverrfaglig spesialisert rusbehandling så kan dette være drømmejobben for deg. Vi har ledig 100 prosent vikariat som enhetsleder ved Ruspoliklinikk ung (RUPO) Stavanger fram til 8. mars 2021. Vikariatet kan fort bli en fast stilling.</p>\\n<p>RUPO gir et poliklinisk behandlingstilbud til ungdom og unge voksne med rus og avhengighetsproblemer, gjerne i kombinasjon med sosiale utfordringer, psykisk - og somatisk uhelse. Vi erfarer at behandling nytter. VI ønsker oss en leder som vil være med å forbedre vårt behandlingstilbud ytterligere. En leder som har faglig integritet, gode samarbeidsevner og er god på personalledelse.</p>\\n<p>RUPO er en enhet i Avdeling for rus og avhengighetsbehandling (ARA) og poliklinikken samarbeider tett både med andre deler av spesialisthelsetjenesten, fengselshelsetjenesten, kommunale tilbud og frivillig sektor for å gi et helthetlig og integrert behandlingstilbud. Leder inngår i ARA sin ledergruppe.</p>\\n<p><strong>Attester, vitnemål og eventuell annen relevant dokumentasjon må vedlegges søknaden.</strong></p>\\n<h3>Arbeidsoppgaver</h3>\\n<p><strong>Leder av poliklinikken har</strong> :</p>\\n<ul><li>overordnet ansvar for enhetens faglige, personalmessige, administrative og økonomiske aktivitet</li><li>ansvar for aktivitet, kvalitetsarbeid, pasienttilfredshet og medarbeidertilfredshet</li><li>ivareta medarbeidernes faglige utvikling til beste for pasientene</li><li>ansvar for å sikre god opplæring og veiledning for ansatte</li><li>skape et godt psykososialt arbeidsmiljø styrke brukermedvirkningen ved enheten</li><li>stimulere og bidra til fagutvikling, tjenesteutvikling og forskning</li><li>delta i gjennomføring og utforming av målsettinger og strategier for enheten</li><li>delta i interne og eksterne samarbeidsorgan innen fagfeltet</li><li>delta i avdelingens ledergruppe og fagråd og ha medansvar for avdelingens drift og virksomhet</li><li>bidra til gode rutiner og praksis for samarbeid internt og eksternt</li><li>ansvar for å implementere kvalitetsregister for rusbehandling, pakkeforløp TSB og nasjonalt faglige retningslinjer</li><li>leder har avdelingssjef som nærmeste overordnet</li></ul>\\n<h3>Kvalifikasjoner</h3>\\n<ul><li>helse eller sosialfaglig utdannet, der også psykologer eller leger kan søke</li><li>med fordel ha videreutdanning eller master innen rus - avhengighet/ psykisk helse / ledelse</li><li>ledererfaring og se verdien av tverrfaglig teamsamarbeid</li><li>allsidig klinisk erfaring i forhold til målgruppen og drift av en poliklinikk eller tilsvarende enhet</li><li>Gode norskkunnskaper er helt avgjørende for forsvarlig pasientbehandling. Søkere som har annet morsmål enn norsk, svensk eller dansk, og som ikke har fullført norskspråklig videregående skole, må minimum ha bestått Bergenstesten, eller annen norsktest på B2 nivå. Dokumentasjon må vedlegges søknaden. Ved ansettelse av allerede fast ansatt i foretaket kan en unntaksvis, i særlige tilfeller, fravike kravet om bestått norsktest på B2-nivå.</li></ul>\\n<h3>Personlige egenskaper</h3>\\n<ul><li>Vi ønsker at du har personlige egenskaper til å være:</li><li>en trygg fagperson og leder, som bruker tid på å lytte til behandlernes behov, men samtidig våger å lede i ønsket retning for pasientenes, behandlernes, enhetens og avdelingens beste</li><li>tydelig på forventninger og tilbakemeldinger</li><li>utadvendt, kreativ, vågal og løsningsorientert</li><li>offensiv i forhold til fagutvikling, evaluering og forskning</li><li>evne til å jobbe selvstendig og i team</li><li>arbeider målrettet, strukturert og resultatorientert</li><li>engasjement for fagfeltet/ pasientgruppen og ønsker å videreutvikle kompentansen din</li><li>tilgjengelig for ansatte og kan kommunisere på en tydelig måte.</li><li>god til å samarbeide</li><li>bidrar positivt til et faglig og kollegialt godt miljø</li><li>tåler å stå i krevende situasjoner</li></ul>\\n<h3>Vi tilbyr</h3>\\n<ul><li>et spennende og utfordrende arbeidssted med mange engasjerte kollegaer med høyt faglig nivå</li><li>et meningsfylt arbeid som gir faglig og personlig utvikling</li><li>jobb i en avdeling og fagmiljø som er i vekst og utvikling</li><li>veiledning og aktivt oppfølging av leder</li><li>lønn etter avtale</li><li>gode pensjons og forsikringsordninger</li><li>gode velferdsordninger</li></ul>\\n<h3>Kontaktinformasjon</h3>\\n<p>Ola Nordmann, avdelingsdirektør, 900 80 800</p>\\n<h3>Arbeidssted</h3>\\n<p>Jan Johnses gate 12<br />\\n4011 Stavanger</p>\\n<p>Søk på stillingen:<a href=\\\"https://candidate.webcruiter.com/cv?advertid&#61;4220835017&amp;language&#61;nb&amp;link_source_id&#61;17\\\" rel=\\\"nofollow\\\">Klikk her</a></p>\\n<h3>Nøkkelinformasjon:</h3>\\n<p>Arbeidsgiver:Helse Stavanger HF</p>\\n<p>Referansenr.:4220835017<br />\\nStillingsprosent: 100%<br />\\nVikariat<br />\\nStartdato: 03.08.2020<br />\\nSøknadsfrist: 30.04.2020</p>\\n\",' +
	                            '      \"employer\": {' +
	                            '        \"description\": \"<p><em>Helse Stavanger HF, Stavanger universitetssjukehus, har ansvar for spesialisthelsetjenesten i Sør-Rogaland. Med over 7800 ansatte er vi en av regionens største arbeidsgivere. Pasientbehandling, utdanning av helsepersonell, pasientopplæring og forskning er våre hovedoppgaver. Les mer på <a href=\\\"http://www.helse-stavanger.no/\\\" rel=\\\"nofollow\\\">www.helse-stavanger.no.</a></em></p>\\n\",' +
	                            '        \"homepage\": null,' +
	                            '        \"name\": \"Avdeling for rus og avhengighetsbehandling (ARA), Helse Stavanger HF\",' +
	                            '        \"orgnr\": \"924469889\"' +
	                            '      },' +
	                            '      \"engagementtype\": \"Vikariat\",' +
	                            '      \"expires\": \"2020-04-29T22:00:00Z\",' +
	                            '      \"extent\": \"Heltid\",' +
	                            '      \"jobtitle\": null,' +
	                            '      \"link\": \"https://arbeidsplassen.nav.no/stillinger/stilling/20c03c14-2d35-4441-8429-8747ee1f3308\",' +
	                            '      \"occupationCategories\": [' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Sykepleier\"' +
	                            '        },' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Psykologer og terapeuter\"' +
	                            '        },' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Lege\"' +
	                            '        },' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Sykepleier\"' +
	                            '        },' +
	                            '        {' +
	                            '          \"level1\": \"Helse og sosial\",' +
	                            '          \"level2\": \"Leder innenfor helsetjenester\"' +
	                            '        }' +
	                            '      ],' +
	                            '      \"positioncount\": \"1\",' +
	                            '      \"published\": \"2020-04-07T13:07:55.632297Z\",' +
	                            '      \"sector\": \"Ikke oppgitt\",' +
	                            '      \"source\": \"XML_STILLING\",' +
	                            '      \"sourceurl\": null,' +
	                            '      \"starttime\": \"2020-08-03T00:00\",' +
	                            '      \"title\": \"Leder - Ruspoliklinikk ung Stavanger\",' +
	                            '      \"updated\": \"2020-04-07T13:07:56.107584Z\",' +
	                            '      \"uuid\": \"20c03c14-2d35-4441-8429-8747ee1f3308\",' +
	                            '      \"workLocations\": [' +
	                            '        {' +
	                            '          \"address\": \"Jan Johnses gate 12\",' +
	                            '          \"city\": \"STAVANGER\",' +
	                            '          \"country\": \"NORGE\",' +
	                            '          \"county\": \"ROGALAND\",' +
	                            '          \"municipal\": \"STAVANGER\",' +
	                            '          \"postalCode\": \"4011\"' +
	                            '        }' +
	                            '      ]' +
	                            '    }' +
	                            '  ],' +
	                            '  \"first\": true,' +
	                            '  \"last\": true,' +
	                            '  \"pageNumber\": 0,' +
	                            '  \"pageSize\": 20,' +
	                            '  \"sort\": \"published:desc\",' +
	                            '  \"totalElements\": 2,' +
	                            '  \"totalPages\": 1' +
	                            '}';

	static testMethod void testParse() {

		ArbeidsplassenModel r = ArbeidsplassenModel.parse( json );
		System.assert (r != null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ArbeidsplassenModel.OccupationCategories objOccupationCategories = new ArbeidsplassenModel.OccupationCategories( System.JSON.createParser( json ) );
		System.assert (objOccupationCategories != null);
		System.assert (objOccupationCategories.level1 == null);
		System.assert (objOccupationCategories.level2 == null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ArbeidsplassenModel.WorkLocations objWorkLocations = new ArbeidsplassenModel.WorkLocations( System.JSON.createParser( json ) );
		System.assert (objWorkLocations != null);
		System.assert (objWorkLocations.address == null);
		System.assert (objWorkLocations.city == null);
		System.assert (objWorkLocations.country == null);
		System.assert (objWorkLocations.county == null);
		System.assert (objWorkLocations.municipal == null);
		System.assert (objWorkLocations.postalCode == null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ArbeidsplassenModel objArbeidsplassenModel = new ArbeidsplassenModel( System.JSON.createParser( json ) );
		System.assert (objArbeidsplassenModel != null);
		System.assert (objArbeidsplassenModel.content == null);
		System.assert (objArbeidsplassenModel.first == null);
		System.assert (objArbeidsplassenModel.last == null);
		System.assert (objArbeidsplassenModel.pageNumber == null);
		System.assert (objArbeidsplassenModel.pageSize == null);
		System.assert (objArbeidsplassenModel.sort_Z == null);
		System.assert (objArbeidsplassenModel.totalElements == null);
		System.assert (objArbeidsplassenModel.totalPages == null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ArbeidsplassenModel.Employer objEmployer = new ArbeidsplassenModel.Employer( System.JSON.createParser( json ) );
		System.assert (objEmployer != null);
		System.assert (objEmployer.description == null);
		System.assert (objEmployer.homepage == null);
		System.assert (objEmployer.name == null);
		System.assert (objEmployer.orgnr == null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ArbeidsplassenModel.Content objContent = new ArbeidsplassenModel.Content( System.JSON.createParser( json ) );
		System.assert (objContent != null);
		System.assert (objContent.applicationDue == null);
		System.assert (objContent.description == null);
		System.assert (objContent.employer == null);
		System.assert (objContent.engagementtype == null);
		System.assert (objContent.expires == null);
		System.assert (objContent.extent == null);
		System.assert (objContent.jobtitle == null);
		System.assert (objContent.link == null);
		System.assert (objContent.occupationCategories == null);
		System.assert (objContent.positioncount == null);
		System.assert (objContent.published == null);
		System.assert (objContent.sector == null);
		System.assert (objContent.source == null);
		System.assert (objContent.sourceurl == null);
		System.assert (objContent.starttime == null);
		System.assert (objContent.title == null);
		System.assert (objContent.updated == null);
		System.assert (objContent.uuid == null);
		System.assert (objContent.workLocations == null);
	}
}